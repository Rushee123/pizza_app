{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rusha\\\\Desktop\\\\react_pro\\\\mycart\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useContext, useEffect, useState } from 'react';\nimport { CartContext } from '../CartContext';\nimport data from '../Data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  let total = 0;\n  const {\n    cart,\n    setcart\n  } = useContext(CartContext);\n  const [products, setProducts] = useState([]);\n  const [priceFetched, togglePriceFetched] = useState(false);\n  console.log(cart);\n  useEffect(() => {\n    if (!cart.items) {\n      return;\n    }\n    if (priceFetched) {\n      return;\n    }\n    const id = Object.keys(cart.items);\n    //  console.log(\"id..\",id[0])\n    console.log(\"hey_all\", id);\n    let v = [];\n    let len = Object.keys(id).length;\n    let i = 0;\n    for (i = 0; i < len; i++) {\n      let p = data.filter(d => {\n        return d._id == id[i];\n      });\n      v.push(p[0]);\n    }\n    console.log(\"v\", v);\n    setProducts(v);\n    togglePriceFetched(true);\n    console.log(\"final\", products);\n  }, [cart]);\n  const getQty = productId => {\n    return cart.items[productId];\n  };\n  const increnent = productId => {\n    const oldQty = cart.items[productId];\n    const _cart = {\n      ...cart\n    };\n    _cart.items[productId] = oldQty + 1;\n    _cart.totalItems += 1;\n    setcart(_cart);\n  };\n  const decrement = productId => {\n    const oldQty = cart.items[productId];\n    if (oldQty == 1) {\n      return;\n    }\n    const _cart = {\n      ...cart\n    };\n    _cart.items[productId] = oldQty - 1;\n    _cart.totalItems -= 1;\n    setcart(_cart);\n  };\n  const getsum = (productId, productPrice) => {\n    const sum = productPrice * getQty(productId);\n    total += sum;\n    return sum;\n  };\n  const handleDelete = productId => {\n    const _cart = {\n      ...cart\n    };\n    const qty = _cart.items[productId];\n    delete _cart.items[productId];\n    _cart.totalItems -= qty;\n    setcart(_cart);\n    const updatedProductsList = products.filter(product => {\n      return product._id !== productId;\n    });\n    setProducts(updatedProductsList);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: products.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto lg:w-1/2 w-full pb-24\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"my-12 font-bold\",\n        children: \"Cart items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: products.map(product => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"mb-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.image,\n                  alt: \"\",\n                  className: \"h-16\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold ml-4 w-48\",\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-yellow-500 px-4 py-2 rounded-full leading-none\",\n                  onClick: () => {\n                    decrement(product._id);\n                  },\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                  className: \"px-4\",\n                  children: getQty(product._id, product.price)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-yellow-500 px-4 py-2 rounded-full leading-none\",\n                  onClick: () => {\n                    increnent(product._id);\n                  },\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", getsum(product._id, product.price)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-red-500 px-4 py-4 py-2 rounded-full leading-none text-white\",\n                onClick: () => {\n                  handleDelete(product._id);\n                },\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this)\n          }, product._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"my-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Grand Total\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), \": $ \", total]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-yellow-500 px-4 py-2 rounded-full leading-none\",\n          children: \"Order Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"images/empty-cart.png\",\n      alt: \"\",\n      className: \"mx-auto w-1/2 mt-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Cart, \"qKRHuZ82IwEIa5QdxXWCDuLnZZI=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useContext","useEffect","useState","CartContext","data","Cart","total","cart","setcart","products","setProducts","priceFetched","togglePriceFetched","console","log","items","id","Object","keys","v","len","length","i","p","filter","d","_id","push","getQty","productId","increnent","oldQty","_cart","totalItems","decrement","getsum","productPrice","sum","handleDelete","qty","updatedProductsList","product","map","image","name","price"],"sources":["C:/Users/rusha/Desktop/react_pro/mycart/src/pages/Cart.js"],"sourcesContent":["import React from 'react'\r\nimport { useContext,useEffect,useState } from 'react'\r\nimport { CartContext } from '../CartContext'\r\nimport data from '../Data'\r\n\r\nconst Cart = () => {\r\n let total=0\r\n const {cart,setcart} = useContext(CartContext)\r\n const [products,setProducts] = useState([])\r\n const [priceFetched,togglePriceFetched]= useState(false);\r\n console.log(cart) \r\n\r\nuseEffect(()=>{\r\n  \r\n  if (!cart.items){\r\n    return ;\r\n  }\r\n  if(priceFetched){\r\n    return ;\r\n  }\r\n  const id=Object.keys(cart.items)\r\n  //  console.log(\"id..\",id[0])\r\n   console.log(\"hey_all\",id)\r\n   let v=[]\r\n   let len=Object.keys(id).length\r\n   let i=0\r\n   for(i=0;i<len;i++){\r\n      let p=data.filter((d)=>{\r\n          return d._id==id[i]\r\n      })\r\n          v.push(p[0])\r\n      }\r\n      console.log(\"v\",v)\r\n      setProducts(v)\r\n      togglePriceFetched(true)\r\n\r\n      console.log(\"final\",products)\r\n  \r\n},[cart])\r\nconst getQty=(productId)=>{\r\n  return cart.items[productId];\r\n}\r\nconst increnent = (productId)=>{\r\n  const oldQty= cart.items[productId]\r\n  const _cart= {...cart};\r\n  _cart.items[productId]= oldQty+1\r\n  _cart.totalItems +=1;\r\n  setcart(_cart);\r\n  \r\n}\r\nconst decrement = (productId)=>{\r\n  const oldQty= cart.items[productId]\r\n  if(oldQty==1){\r\n    return ;\r\n  }\r\n  const _cart= {...cart};\r\n  _cart.items[productId]= oldQty-1\r\n  _cart.totalItems -=1;\r\n  setcart(_cart);\r\n  \r\n}\r\nconst getsum=(productId,productPrice)=>{\r\nconst sum = productPrice*getQty(productId)\r\ntotal+=sum;\r\nreturn sum\r\n}\r\nconst handleDelete = (productId)=>{\r\n  const _cart = {...cart}\r\n  const qty = _cart.items[productId]\r\n  delete _cart.items[productId]\r\n  _cart.totalItems-=qty\r\n  setcart(_cart);\r\n  const updatedProductsList= products.filter((product)=>{\r\n    return product._id !== productId\r\n  })\r\n  setProducts(updatedProductsList)\r\n}\r\n\r\n  return (\r\n    <>\r\n      {products.length ?\r\n      <div className='container mx-auto lg:w-1/2 w-full pb-24'>\r\n        <h1 className='my-12 font-bold'>Cart items</h1>\r\n        <ul>\r\n          {\r\n            products.map(product =>{\r\n              return (          <li className='mb-12' key={product._id}>\r\n              <div className='flex items-center justify-between'>\r\n                <div className='flex items-center'>\r\n                  <img src={product.image} alt='' className='h-16'></img>\r\n                  <span className='font-bold ml-4 w-48'>{product.name}</span>\r\n                </div>\r\n                <div>\r\n                  <button className='bg-yellow-500 px-4 py-2 rounded-full leading-none'onClick={()=>{decrement(product._id)}}>-</button>\r\n                  <b className='px-4'>{getQty(product._id,product.price)}</b>\r\n                  <button className='bg-yellow-500 px-4 py-2 rounded-full leading-none' onClick={()=>{increnent(product._id)}}>+</button>\r\n                </div>\r\n                <span>${getsum(product._id,product.price)}</span>\r\n                <button className='bg-red-500 px-4 py-4 py-2 rounded-full leading-none text-white'onClick={()=>{handleDelete(product._id)}}>Delete</button>\r\n              </div>\r\n            </li>\r\n\r\n              )\r\n            })\r\n          }\r\n\r\n        </ul>\r\n        <hr className='my-6'></hr>\r\n        <div className='text-right'>\r\n          <b>Grand Total</b>: $ {total}\r\n        </div>\r\n        <div className='text-right mt-6'>\r\n          <button className='bg-yellow-500 px-4 py-2 rounded-full leading-none'>Order Now</button>\r\n        </div>\r\n      </div>\r\n      :\r\n      <img src='images/empty-cart.png' alt='' className='mx-auto w-1/2 mt-12'></img>\r\n        }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Cart"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}